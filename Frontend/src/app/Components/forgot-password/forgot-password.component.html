<!-- FORGOT PASSWORD VIEW -->
<div *ngIf="!showResetForm" class="p-6 w-full max-w-md animate-fade-in">
  <h2 class="text-2xl font-semibold text-indigo-700 mb-4 text-center">Forgot Password</h2>
  <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()" class="space-y-4">
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" />
      <mat-error *ngIf="forgotForm.get('email')?.hasError('required')">Email is required</mat-error>
      <mat-error *ngIf="forgotForm.get('email')?.hasError('email')">Invalid email</mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" class="w-full" type="submit" [disabled]="forgotForm.invalid">
      Send Reset Link
    </button>

    <p class="text-green-600 text-sm mt-2 text-center" *ngIf="successMessage">{{ successMessage }}</p>
    <p class="text-red-600 text-sm mt-2 text-center" *ngIf="errorMessage">{{ errorMessage }}</p>
  </form>

  <div class="text-center mt-4">
    <button mat-button (click)="close()" class="text-sm text-blue-600 hover:underline">Close</button>
  </div>
</div>

<!-- RESET PASSWORD VIEW -->
<div *ngIf="showResetForm" class="p-6 w-full max-w-md animate-slide-in">
  <h2 class="text-2xl font-semibold text-indigo-700 mb-4 text-center">Reset Password</h2>
  <form [formGroup]="resetForm" (ngSubmit)="onReset()" class="space-y-4">
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Token</mat-label>
      <input matInput formControlName="token" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="w-full">
      <mat-label>New Password</mat-label>
      <input matInput formControlName="newPassword" type="password" />
    </mat-form-field>

    <button mat-raised-button color="primary" class="w-full" type="submit" [disabled]="resetForm.invalid">
      Reset Password
    </button>

    <p class="text-green-600 text-sm mt-2 text-center" *ngIf="resetSuccess">{{ resetSuccess }}</p>
    <p class="text-red-600 text-sm mt-2 text-center" *ngIf="resetError">{{ resetError }}</p>
  </form>

  <div class="text-center mt-4">
    <button mat-button (click)="close()" class="text-sm text-blue-600 hover:underline">Close</button>
  </div>
</div>
